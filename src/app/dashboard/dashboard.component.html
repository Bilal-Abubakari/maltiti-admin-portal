<div class="dashboard-container">
  <header class="dashboard-header">
    <div class="header-content">
      <h1 class="header-title">
        <i class="pi pi-th-large"></i>
        Maltiti A. Enterprise
      </h1>
      <p class="header-subtitle">Admin Portal</p>
    </div>

    @if (user(); as currentUser) {
      <div class="user-info">
        <p-avatar
          [label]="getInitials(currentUser.name)"
          class="mr-2"
          size="large"
          shape="circle"
          [style]="{ 'background-color': 'var(--primary-500)', color: '#ffffff' }"
        />
        <div class="user-details">
          <span class="user-name">{{ currentUser.name }}</span>
          <span class="user-email">{{ currentUser.email }}</span>
        </div>
        <p-button
          icon="pi pi-sign-out"
          label="Logout"
          severity="danger"
          [outlined]="true"
          (onClick)="onLogout()"
        />
      </div>
    }
  </header>

  <main class="dashboard-content">
    @if (user(); as currentUser) {
      <div class="grid">
        <div class="col-12 lg:col-8">
          <p-card>
            <ng-template pTemplate="header">
              <div class="card-header">
                <i class="pi pi-user"></i>
                <h2>Welcome Back!</h2>
              </div>
            </ng-template>
            <div class="welcome-content">
              <p class="welcome-text">
                Hello, <strong>{{ currentUser.name }}</strong>! Welcome to the Maltiti A. Enterprise
                Admin Portal.
              </p>
              <p class="info-text">
                You are logged in with the role of
                <strong>{{ currentUser.userType }}</strong>
                and your account status is
                <p-tag [value]="currentUser.status" [severity]="getStatusSeverity(currentUser.status)" />
              </p>
              <p class="placeholder-text">
                This is your dashboard. Start building your admin features here.
              </p>
            </div>
          </p-card>
        </div>

        <div class="col-12 lg:col-4">
          <p-card>
            <ng-template pTemplate="header">
              <div class="card-header">
                <i class="pi pi-info-circle"></i>
                <h2>Account Details</h2>
              </div>
            </ng-template>
            <div class="account-details">
              <div class="detail-row">
                <span class="detail-label">User ID:</span>
                <span class="detail-value">{{ currentUser.id }}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Email:</span>
                <span class="detail-value">{{ currentUser.email }}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Name:</span>
                <span class="detail-value">{{ currentUser.name }}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Role:</span>
                <span class="detail-value">{{ currentUser.userType }}</span>
              </div>
              @if (currentUser.phoneNumber) {
                <div class="detail-row">
                  <span class="detail-label">Phone:</span>
                  <span class="detail-value">{{ currentUser.phoneNumber }}</span>
                </div>
              }
              <div class="detail-row">
                <span class="detail-label">Status:</span>
                <p-tag [value]="currentUser.status" [severity]="getStatusSeverity(currentUser.status)" />
              </div>
              @if (currentUser.mustChangePassword) {
                <div class="detail-row">
                  <p-tag value="Password Change Required" severity="warn" icon="pi pi-exclamation-triangle" />
                </div>
              }
            </div>
          </p-card>
        </div>
      </div>
    }
  </main>
</div>

